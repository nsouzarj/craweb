<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Dashboard</h1>
    <p>Bem-vindo ao Sistema CRA, {{ currentUser?.nomecompleto }}!</p>
  </div>

  <div class="stats-grid" *ngIf="!loading">
    <!-- Users Stats (Admin/Advogado only) -->
    <mat-card class="stat-card" *ngIf="canViewUsers()">
      <mat-card-content>
        <div class="stat-content">
          <div class="stat-icon users">
            <mat-icon>people</mat-icon>
          </div>
          <div class="stat-details">
            <h3>Usuários</h3>
            <div class="stat-numbers">
              <span class="primary-number">{{ stats.totalUsers }}</span>
              <span class="secondary-number">{{ stats.activeUsers }} ativos</span>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Correspondentes Stats -->
    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-content">
          <div class="stat-icon correspondentes">
            <mat-icon>business</mat-icon>
          </div>
          <div class="stat-details">
            <h3>Correspondentes</h3>
            <div class="stat-numbers">
              <span class="primary-number">{{ stats.totalCorrespondentes }}</span>
              <span class="secondary-number">{{ stats.activeCorrespondentes }} ativos</span>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Processos Stats -->
    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-content">
          <div class="stat-icon processos">
            <mat-icon>folder</mat-icon>
          </div>
          <div class="stat-details">
            <h3>Processos</h3>
            <div class="stat-numbers">
              <span class="primary-number">{{ stats.totalProcessos }}</span>
              <span class="secondary-number">{{ stats.processosEmAndamento }} em andamento</span>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Solicitações Stats -->
    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-content">
          <div class="stat-icon solicitacoes">
            <mat-icon>assignment</mat-icon>
          </div>
          <div class="stat-details">
            <h3>Solicitações</h3>
            <div class="stat-numbers">
              <span class="primary-number">{{ stats.totalSolicitacoes }}</span>
              <span class="secondary-number">{{ stats.solicitacoesPendentes }} pendentes</span>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Loading State -->
  <div class="loading-container" *ngIf="loading">
    <mat-spinner></mat-spinner>
    <p>Carregando estatísticas...</p>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions" *ngIf="!loading">
    <h2>Ações Rápidas</h2>
    <div class="actions-grid">
      <mat-card class="action-card" *ngIf="authService.isAdmin()">
        <mat-card-content>
          <mat-icon>person_add</mat-icon>
          <h3>Cadastrar Usuário</h3>
          <p>Adicionar novo usuário ao sistema</p>
          <button mat-raised-button color="primary" routerLink="/register">
            Cadastrar
          </button>
        </mat-card-content>
      </mat-card>

      <mat-card class="action-card">
        <mat-card-content>
          <mat-icon>business</mat-icon>
          <h3>Novo Correspondente</h3>
          <p>Cadastrar correspondente</p>
          <button mat-raised-button color="primary" routerLink="/correspondentes/novo">
            Cadastrar
          </button>
        </mat-card-content>
      </mat-card>

      <mat-card class="action-card">
        <mat-card-content>
          <mat-icon>folder_open</mat-icon>
          <h3>Novo Processo</h3>
          <p>Registrar novo processo</p>
          <button mat-raised-button color="primary" routerLink="/processos/novo">
            Cadastrar
          </button>
        </mat-card-content>
      </mat-card>

      <mat-card class="action-card">
        <mat-card-content>
          <mat-icon>assignment_add</mat-icon>
          <h3>Nova Solicitação</h3>
          <p>Criar solicitação</p>
          <button mat-raised-button color="primary" routerLink="/solicitacoes/novo">
            Criar
          </button>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <!-- Recent Activity (Future Enhancement) -->
  <div class="recent-activity" *ngIf="!loading">
    <h2>Atividade Recente</h2>
    <mat-card>
      <mat-card-content>
        <p class="coming-soon">Funcionalidade em desenvolvimento...</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>